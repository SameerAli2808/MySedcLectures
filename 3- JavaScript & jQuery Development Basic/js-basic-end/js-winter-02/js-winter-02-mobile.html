<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>JS-winter-Ex02</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        *{padding: 0;
            margin: 0;
            box-sizing: border-box;
            -moz-box-sizing: border-box; 
            -webkit-box-sizing: border-box;}
        body {text-align: center;}
        .display-4 {font-size: 2em;}
        #display, #main {text-align: right;
            background-color: lavender;
            border: none;}
        #display {font-size: 0.75em;}
        #main {font-size: 3em;
            height: 1.5em;}
        div {padding: 0 !important;
            margin: 0 !important;}
        .btn, .btn-block {border: 3px solid lavender;
            font-weight: normal;
            background-color: rgb(243, 243, 253);
            border-radius: none;
            height: 10vh;
            font-size: 1.2em;
            font-weight: lighter;}
        .spc-font {font-size: 2em;}
        .num-font {font-size: 1.5em;
            font-weight: bold;}
        h1 {text-align: left;}
        .digit {background-color: white;}
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <h1 class="display-4">&#8801 Standard</h1>
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <input type="text" id="display" class="form-control">
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>        
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <input type="text" id="main" class="form-control">
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <button id="percentage" class="btn btn-outline-secondary btn-block">%</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="sqr" class="btn btn-outline-secondary btn-block">&#8730</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="x2" class="btn btn-outline-secondary btn-block">x<sup>2</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="x1" class="btn btn-outline-secondary btn-block">1/x</button>
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <button id="ce" class="btn btn-outline-secondary btn-block">CE</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="c" class="btn btn-outline-secondary btn-block">C</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="del" class="btn btn-outline-secondary btn-block">&#8676</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="divide" class="btn btn-outline-secondary btn-block spc-font">&#247</button>
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <button id="num7" class="btn btn-outline-secondary btn-block num-font digit">7</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="num8" class="btn btn-outline-secondary btn-block num-font digit">8</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="num9" class="btn btn-outline-secondary btn-block num-font digit">9</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="multiply" class="btn btn-outline-secondary btn-block spc-font">&#215</button>
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <button id="num4" class="btn btn-outline-secondary btn-block num-font digit">4</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="num5" class="btn btn-outline-secondary btn-block num-font digit">5</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="num6" class="btn btn-outline-secondary btn-block num-font digit">6</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="subtract" class="btn btn-outline-secondary btn-block spc-font">&#8722</button>
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <button id="num1" class="btn btn-outline-secondary btn-block num-font digit">1</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="num2" class="btn btn-outline-secondary btn-block num-font digit">2</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="num3" class="btn btn-outline-secondary btn-block num-font digit">3</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="summation" class="btn btn-outline-secondary btn-block spc-font">+</button>
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
        <div class="row">
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
            <div class="col" style="background-color:lavender;">
                <button id="plusminus" class="btn btn-outline-secondary btn-block spc-font">&#177</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="num0" class="btn btn-outline-secondary btn-block num-font digit">0</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="point" class="btn btn-outline-secondary btn-block num-font">&#8729</button>
            </div>
            <div class="col" style="background-color:lavender;">
                <button id="equil" class="btn btn-outline-secondary btn-block spc-font">=</button>
            </div>
            <div class="col-0 col-sm-1 col-md-2 col-lg-3 col-xl-4"></div>
        </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <script>
        let lastValue = 0;
        let previousValue = 0;
        let operation = false;
        let result = "";
        let calValueInput = 0;
        let disValueOutput = "";
        let lastOperation = "";
        let tempResult = "";
        let specialOperation = false;

        $(document).ready(function() {
            function digits(digit) {
                if(operation == false) {
                    calValueInput = $("#main").val();
                    $("#main").val(`${calValueInput}`+`${digit}`);
                } else if(operation == true) {
                    $("#main").val(`${digit}`);
                    operation = false;
                }
            }

            function calculations(operationSign, operationType) {
                calValueInput = $("#main").val();
                disValueOutput = $("#display").val();
                if(specialOperation == true) {
                    $("#display").val(`${disValueOutput}`+` ${operationSign} `);
                } else {
                    if(disValueOutput == "") {
                        $("#display").val(`${calValueInput}`+` ${operationSign} `);
                    } else {
                        $("#display").val(`${disValueOutput}`+`${calValueInput}`+` ${operationSign} `);
                    }
                }
                if(result == "") {
                    result = parseFloat($("#main").val());
                } else {
                    previousValue = result;
                    lastValue = parseFloat($("#main").val());
                    if(lastOperation == "") {lastOperation = `${operationType}`};
                    if(lastOperation == "sum") { result = previousValue + lastValue; }
                    if(lastOperation == "sub") { result = previousValue - lastValue; }
                    if(lastOperation == "mul") { result = previousValue * lastValue; }
                    if(lastOperation == "div") {
                        if($("#main").val() == 0) {
                            result = (`Cannot divide by zero`);
                            lastValue = 0;
                            previousValue = 0;
                            calValueInput = 0;
                            disValueOutput = "";
                            $("#display").val("");
                        } else { result = previousValue / lastValue; }
                    }
                }
                if(result >= Infinity) { result = `Very big number`; }
                $("#main").val(`${result}`);
                tempResult = result;
                operation = true;
                specialOperation = false;
                lastOperation = `${operationType}`
            }

            function specialCalculations(operationType) {
                let temporary = parseFloat($("#main").val());
                if(operationType === "per") { temporary = (tempResult / 100) * temporary; };
                if(operationType === "sqr") { temporary = Math.sqrt(temporary); };
                if(operationType === "x2") { temporary = temporary * temporary; };
                if(operationType === "x1") { temporary = 1 / temporary; };
                disValueOutput = $("#display").val();
                $("#display").val(`${disValueOutput}`+`${temporary}`);
                $("#main").val(`${temporary}`);
                specialOperation = true;
            }

            $("#num0").click(function() { digits(0); });
            $("#num1").click(function() { digits(1); });
            $("#num2").click(function() { digits(2); });
            $("#num3").click(function() { digits(3); });
            $("#num4").click(function() { digits(4); });
            $("#num5").click(function() { digits(5); });
            $("#num6").click(function() { digits(6); });
            $("#num7").click(function() { digits(7); });
            $("#num8").click(function() { digits(8); });
            $("#num9").click(function() { digits(9); });
            $("#point").click(function() { digits("."); });

            $("#summation").click(function() { calculations("+", "sum"); });
            $("#subtract").click(function() { calculations("-", "sub"); });
            $("#multiply").click(function() { calculations("x", "mul"); });
            $("#divide").click(function() { calculations("/", "div"); });

            $("#percentage").click(function() { specialCalculations("per"); });
            $("#sqr").click(function() { specialCalculations("sqr"); });
            $("#x2").click(function() { specialCalculations("x2"); });
            $("#x1").click(function() { specialCalculations("x1"); });

            $("#plusminus").click(function() {
                calValueInput = parseFloat($("#main").val());
                calValueInput = calValueInput * -1;
                $("#main").val(`${calValueInput}`);
            });

            $("#del").click(function() {
                if(operation == false) {
                    let before = $("#main").val().length;
                    let after = $("#main").val().substr(-before,before-1);
                    $("#main").val(`${after}`);
                }
            });

            $("#ce").click(function() { $("#main").val(""); });

            $("#c").click(function() {
                lastValue = 0;
                previousValue = 0;
                operation = false;
                specialOperation = false;
                result = "";
                calValueInput = 0;
                disValueOutput = "";
                lastOperation = "";
                tempResult = "";
                $("#main").val("");
                $("#display").val("");
            });

            $("#equil").click(function() {
                calValueInput = $("#main").val();
                previousValue = result;
                lastValue = parseFloat($("#main").val());
                if(lastOperation == "sum") { result = previousValue + lastValue; }
                if(lastOperation == "sub") { result = previousValue - lastValue; }
                if(lastOperation == "mul") { result = previousValue * lastValue; }
                if(lastOperation == "div") {
                    if($("#main").val() == 0) {
                        result = (`Cannot divide by zero`);
                        specialOperation = false;
                        calValueInput = 0;
                        disValueOutput = "";
                    } else { result = previousValue / lastValue; }
                }
                if(result >= Infinity) { result = `Very big number`; }
                $("#main").val(`${result}`);
                operation = true;
                previousValue = 0;
                lastValue = 0;
                tempResult = result;
                result = "";
                lastOperation = "";
                $("#display").val("");
            });        
        });
    </script>
</body>
</html>